<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF Royal Arena | ุงูููุตุฉ ุงูููููุฉ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="admin-modal">
        <div class="modal-content">
            <h2 style="color:var(--primary-gold); margin-bottom: 15px;">๐ ุงูุฏุฎูู ูููุธุงู ุงููููู</h2>
            <input type="password" id="admin-password" placeholder="ุฃุฏุฎู ูููุฉ ุงูุณุฑ">
            <button class="btn-admin" style="width:100%;" onclick="checkPassword()">ุฏุฎูู</button>
            <button class="btn-admin" style="background:#666; width:100%;" onclick="closeModal('admin-modal')">ุฅุบูุงู</button>
        </div>
    </div>

    <div id="tourney-modal">
        <div class="modal-content">
            <h2 style="color:var(--primary-gold); margin-bottom: 15px;">๐ ุฅุถุงูุฉ ุจุทููุฉ ุฌุฏูุฏุฉ</h2>
            <input type="text" id="new-t-name" placeholder="ุงุณู ุงูุจุทููุฉ">
            <input type="text" id="new-t-banner" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงูุจุทููุฉ">
            <select id="new-t-type">
                <option value="league">ูุธุงู ุฏูุฑู (ููุงุท)</option>
                <option value="knockout">ูุธุงู ุฅูุตุงุก (ุดุฌุฑุฉ)</option>
            </select>
            <button class="btn-admin" style="background:#28a745; width:100%;" onclick="confirmAddTournament()">ุชุฃููุฏ ุงูุฅุถุงูุฉ</button>
            <button class="btn-admin" style="background:#666; width:100%;" onclick="closeModal('tourney-modal')">ุฅูุบุงุก</button>
        </div>
    </div>

    <nav>
        <div class="container">
            <div class="logo">ROYAL ARENA <span id="admin-status" class="admin-only" style="color:var(--admin-red); font-size:0.7rem;">[ADMIN]</span></div>
            <ul class="nav-links">
                <li><a id="nav-home" onclick="showPage('home')" class="active">ุงูุจุทููุงุช</a></li>
                <li><a id="nav-players" onclick="showPage('players')">ุงููุงุนุจูู</a></li>
                <li><a id="nav-general-stats" onclick="showPage('general-stats')">ุงูุฅุญุตุงุฆูุงุช</a></li>
            </ul>
        </div>
    </nav>

    <div id="home" class="page active">
        <div class="container">
            <h2 class="main-title">
                <span class="admin-trigger" onmousedown="startAdminTimer()" onmouseup="clearAdminTimer()" ontouchstart="startAdminTimer()" ontouchend="clearAdminTimer()">๐</span> 
                ูุธุงู ุงูุจุทููุงุช ุงูููููุฉ
            </h2>
            <div class="admin-only" style="text-align:center; margin-bottom: 20px;">
                <button class="btn-admin" style="background:#28a745" onclick="openAddTourneyModal()">+ ุฅุถุงูุฉ ุจุทููุฉ ุฌุฏูุฏุฉ</button>
                <button class="btn-admin" onclick="logoutAdmin()">ุฎุฑูุฌ ุงููุณุคูู</button>
            </div>
            <div class="tourney-grid" id="tournaments-list"></div>
        </div>
    </div>

    <div id="tourney-details" class="page">
        <div class="container">
            <button class="back-btn" onclick="showPage('home')">โฌ ุงูุนูุฏุฉ ูููุงุฆูุฉ</button>
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap: wrap; gap:10px;">
                <div style="display:flex; gap:10px; align-items:center;">
                   <h1 id="det-title" style="color:var(--primary-gold);">ุงุณู ุงูุจุทููุฉ</h1>
                   <button class="admin-only btn-admin" style="padding:2px 8px; font-size:0.8rem;" onclick="renameTourney()">โ๏ธ ุงูุงุณู</button>
                   <button class="admin-only btn-admin" style="padding:2px 8px; font-size:0.8rem; background: #555;" onclick="changeTourneyBanner()">๐ผ๏ธ ุงูุตูุฑุฉ</button>
                </div>
                <button class="btn-admin admin-only" onclick="deleteCurrentTournament()">ุญุฐู ุงูุจุทููุฉ ๐๏ธ</button>
            </div>
            <div class="details-grid">
                <div class="glass-card">
                    <span class="admin-badge">ุชุนุฏูู ุงูุจูุงูุงุช</span>
                    <h3 class="section-header" id="standing-title">ุงููุฎุทุท</h3>
                    <div id="standing-content"></div>
                </div>
                <div class="bottom-info-grid">
                    <div class="glass-card">
                        <span class="admin-badge">ุฅุฏุงุฑุฉ ุงููุจุงุฑูุงุช</span>
                        <h3 class="section-header">๐ ุงูููุงุนูุฏ</h3>
                        <div id="match-list"></div>
                        <button class="btn-admin admin-only" style="width:100%; margin-top:10px;" onclick="addMatch()">+ ุฅุถุงูุฉ ูุจุงุฑุงุฉ</button>
                    </div>
                    <div class="glass-card">
                        <span class="admin-badge">ุชุนุฏูู ุงูุฃุฑูุงู</span>
                        <h3 class="section-header">๐ฅ ุฃุฑูุงู ุงูุจุทููุฉ</h3>
                        <div id="stats-content"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="players" class="page">
        <div class="container">
            <h2 class="main-title">๐ ูุงุฆูุฉ ุงููุฎุจุฉ</h2>
            <div class="glass-card">
                <div class="table-responsive">
                    <table>
                        <thead><tr><th>ุงูุงุณู</th><th>ุงูุขูุฏู</th><th>ุงููููุงุช</th><th>ุงูููุฏุดูุช</th><th class="admin-only">ุฅุฌุฑุงุก</th></tr></thead>
                        <tbody id="players-list-body"></tbody>
                    </table>
                </div>
                <button class="btn-admin admin-only" style="margin-top:15px; width:100%;" onclick="addNewPlayer()">+ ุฅุถุงูุฉ ูุงุนุจ ุฌุฏูุฏ</button>
            </div>
        </div>
    </div>

    <div id="general-stats" class="page">
        <div class="container">
            <h2 class="main-title">๐ ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ</h2>
            <div id="main-stats-container" class="stats-main-grid"></div>
            <div class="admin-only" style="text-align:center; margin-bottom:20px;">
                <button class="btn-admin" style="background:#28a745" onclick="addGlobalStat()">+ ุฅุถุงูุฉ ุฅุญุตุงุฆูุฉ</button>
            </div>
            <div id="general-mvp-list" class="mvp-main-grid"></div>
            <div class="admin-only" style="text-align:center; margin-top:20px;">
                <button class="btn-admin" style="background:#28a745" onclick="addGlobalMVP()">+ ุฅุถุงูุฉ ุฌุงุฆุฒุฉ MVP</button>
            </div>
        </div>
    </div>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="script.js"></script>
</body>

</html>
